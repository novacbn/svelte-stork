import{S as n,i as s,s as t,l as a,f as e,J as o,d as p,K as c}from"../chunks/vendor-09cf0bef.js";function l(n){let s,t;return{c(){t=a(),this.h()},l(n){t=a(),this.h()},h(){s=new c(t)},m(n,a){s.m('<h1>svelte-stork</h1>\n<h2>Description</h2>\n<p>Minimalist Svelte wrapper Stores around <a href="https://github.com/jameslittle230/stork">Stork</a> search, also provides customizable Components.</p>\n<h2>Demo</h2>\n<p>See a demo of the Svelte Components at <a href="https://novacbn.github.io/svelte-stork">novacbn.github.io/svelte-stork</a>.</p>\n<h2>Getting Started</h2>\n<blockquote>\n<p><strong>NOTE</strong>: To learn how to build your own custom search indices and other concepts, visit the <a href="https://stork-search.net/docs">Stork documentation</a>.</p>\n</blockquote>\n<p>To get started with this library, you need to <a href="https://stork-search.net/docs/install">install Stork</a> on your Web Application. And make sure the <code>stork</code> global namespace available.</p>\n<h2>Usage</h2>\n<h3>Stores</h3>\n<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span>register<span class="token punctuation">,</span> search<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"svelte-stork"</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Before we can do anything with search, you need to register</span>\n<span class="token comment">// your search index and Stork\'s WASM build. Which will be fetched</span>\n<span class="token comment">// from the network</span>\n<span class="token keyword">await</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token comment">// All search indices are globally registered to the webpage, so</span>\n    <span class="token comment">// you need to choose a unique name. Preferably versioned as well</span>\n    index_name<span class="token operator">:</span> <span class="token string">"my-search-index_v1.0.0"</span><span class="token punctuation">,</span>\n\n    <span class="token comment">// Search index and WASM blob be self-hosted or using Stork\'s CDN</span>\n    index_url<span class="token operator">:</span> <span class="token string">"/path/to/search_index.v1.0.0.st"</span><span class="token punctuation">,</span>\n    wasm_url<span class="token operator">:</span> <span class="token string">"/path/to/stork.wasm"</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Now if we registered successfully, we can create our Svelte Store</span>\n<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token comment">// You can customize how long in milliseconds the Store after</span>\n    <span class="token comment">// receiving input to update the query results</span>\n    <span class="token comment">//</span>\n    <span class="token comment">// DEFAULT: 250ms (0.25s)</span>\n    debounce<span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>\n\n    <span class="token comment">// You also need to reference your registered search index</span>\n    index_name<span class="token operator">:</span> <span class="token string">"my-search-index_v1.0.0"</span><span class="token punctuation">,</span>\n\n    <span class="token comment">// Lastly, you can customize the minimum amount of characters a</span>\n    <span class="token comment">// end-user needs to input before queries are performed</span>\n    <span class="token comment">//</span>\n    <span class="token comment">// DEFAULT: 3 (three characters)</span>\n    minimum_length<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Like any other Svelte Store, we update the input query via `set`</span>\nstore<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"my search query"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Also subscriptions</span>\nstore<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">query</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">// Finally retrieve your query results, visit the link below to see the typings</span>\n    <span class="token comment">// https://github.com/novacbn/svelte-stork/blob/e8fe53ccdf0547a568b6f7e1cd59aad0ba22499d/src/lib/stores/search.ts#L95-L110</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<h3>Components</h3>\n\x3c!-- prettier-ignore --\x3e\n<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n    <span class="token keyword">import</span> <span class="token punctuation">{</span>register<span class="token punctuation">,</span> search<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"svelte-stork"</span><span class="token punctuation">;</span>\n    <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Stork <span class="token keyword">from</span> <span class="token string">"svelte-stork/components"</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// Initialized the exact same way as the above example</span>\n    <span class="token keyword">const</span> registration_promise <span class="token operator">=</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// After the initial configuration / load, it\'s really simple to get started. Just</span>\n    <span class="token comment">// use Svelte\'s reactive blocks pattern to update from input and listen for query results</span>\n    $<span class="token operator">:</span> $store <span class="token operator">=</span> value<span class="token punctuation">;</span>\n    $<span class="token operator">:</span> query <span class="token operator">=</span> $store<span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!--\n    Before we can render the search UI and results, we need to\n    wait for the WASM blob to load and the search index to be\n    registered\n--\x3e</span>\n{#await registration_promise}\n    Loading search index...\n{:then}\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...search<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>value</span> <span class="token punctuation">/></span></span>\n\n    <span class="token comment">&lt;!-- Now we can just pass in the query output into the premade basic search UI --\x3e</span>\n    {#if query}\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Stork.Output</span> <span class="token attr-name">{query}</span> <span class="token punctuation">/></span></span>\n    {/if}\n{/await}\n</code></pre>\n<h2>Developer</h2>\n<h3>Installation</h3>\n<p>Open your terminal and install via <code>npm</code>:</p>\n<pre class="language-sh"><code class="language-sh">npm install github:novacbn/svelte-stork#0.0.1\n</code></pre>\n<p>Install current in-development code:</p>\n<pre class="language-sh"><code class="language-sh">npm install github:novacbn/svelte-stork\n</code></pre>\n<h3>Documentation</h3>\n<blockquote>\n<p>TODO</p>\n</blockquote>\n<h3>CSS Custom Properties</h3>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>--svelte-stork-attribution-padding</code></td>\n<td><code>0.75rem 1rem</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-entry-padding</code></td>\n<td><code>0.5rem 0.5rem</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-entry-hover-background-color</code></td>\n<td><code>hsl(192, 82%, 78%)</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-entry-spacing</code></td>\n<td><code>0.125em</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-entry-title-spacing</code></td>\n<td><code>0.125em</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-entry-title-font-size</code></td>\n<td><code>1.75rem</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-entry-title-font-weight</code></td>\n<td><code>bold</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-excerpt-padding</code></td>\n<td><code>0 0.75em</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-highlight-background-color</code></td>\n<td><code>hsl(59, 98%, 58%)</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-message-padding</code></td>\n<td><code>0.75rem 1rem</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-message-font-size</code></td>\n<td><code>2rem</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-message-opacity</code></td>\n<td><code>0.85</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-output-max-height</code></td>\n<td><code>auto</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-results-border</code></td>\n<td><code>1px solid currentColor</code></td>\n</tr>\n<tr>\n<td><code>--svelte-stork-results-spacing</code></td>\n<td><code>0.5rem</code></td>\n</tr>\n</tbody>\n</table>\n<h3>API</h3>\n<ul>\n<li>\n<p>Functions</p>\n<ul>\n<li><code>register</code></li>\n</ul>\n</li>\n<li>\n<p>Stores</p>\n<ul>\n<li><code>search</code></li>\n</ul>\n</li>\n<li>\n<p>Components</p>\n<ul>\n<li>\n<p><code>Output</code></p>\n</li>\n<li>\n<p><code>Message</code></p>\n</li>\n<li>\n<p><code>Attribution</code></p>\n</li>\n<li>\n<p><code>Highlight</code></p>\n</li>\n<li>\n<p><code>Result</code></p>\n</li>\n<li>\n<p><code>Results</code></p>\n</li>\n<li>\n<p><code>Entry</code></p>\n</li>\n<li>\n<p><code>EntryTitle</code></p>\n</li>\n<li>\n<p><code>Excerpt</code></p>\n</li>\n</ul>\n</li>\n</ul>\n',n,a),e(n,t,a)},p:o,i:o,o:o,d(n){n&&p(t),n&&s.d()}}}export default class extends n{constructor(n){super(),s(this,n,null,l,t,{})}}
